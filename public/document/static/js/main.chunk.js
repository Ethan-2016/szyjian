(this.webpackJsonpemreditor=this.webpackJsonpemreditor||[]).push([[0],{10:function(e,t,n){e.exports=n(18)},15:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),o=n(8),r=n.n(o),l=(n(15),n(2)),s=n(3),c=n(5),d=n(4),u=n(6),m=n(1),g=n.n(m),f=n(9),p=n.n(f);function h(e,t){if(e){for(var n=window.baidu.editor.ui,i="",a=0;a<t.length;a++){var o=n[t[a]];if(o)i+=o(e).renderHtml();else i+='<div class="edui-box edui-separator edui-default"></div>'}return i}}function b(e,t){var n=(e.getAttribute("class")||"").indexOf("emr-field")>-1,i=e.getAttribute(t);if(!n)return!1;if(i)return e;for(;e.parentNode&&(e.getAttribute("class")||"").indexOf("emr-field")>-1;)if((e=e.parentNode).getAttribute(t))return e}var v={encode:function(e){var t=encodeURI(e);return btoa(t)},decode:function(e){var t=atob(e);return decodeURI(t)}};function w(e,t){for(var n=e.getElementsByTagName("tr"),i=1;i<n.length;i++)n[i].id.indexOf("fileds-tr")<0&&function(t){for(var i=n[t].getElementsByTagName("td"),a=0;a<i.length;a++)!function(a){i[a].onclick=function(o){for(var r=this.closest("tr"),l=i[a].getAttribute("name"),s=l.split("_")[2],c=0;c<n.length;c++){if(n[c].className.indexOf("fileds-tr")<0)n[c].className.indexOf("edittr-bg")>-1?n[c].className="edittr-bg":n[c].className=""}if(l.indexOf("event_single_")>-1){for(var d=0;d<i.length;d++){if(i[d].getAttribute("name").indexOf("event_single_"+s+"_")>-1)if(i[d]==i[a])if(i[d].innerText)i[d].innerText="";else{var u=i[d].getAttribute("showway");i[d].innerText=u&&"number"!==u?"\u2713":l.split("_").pop()}else i[d].innerText=""}E(e,n[t]),n[t].className="edittr-bg",window.setChangeStateFn()}if(l.indexOf("event_mutil_")>-1){for(d=0;d<i.length;d++){if(i[d].getAttribute("name").indexOf("event_mutil_"+s+"_")>-1&&i[d]==i[a])if(i[d].innerText)i[d].innerText="";else{u=i[d].getAttribute("showway");i[d].innerText=u&&"number"!==u?"\u2713":l.split("_").pop()}}E(e,n[t]),n[t].className="edittr-bg",window.setChangeStateFn()}if(l.indexOf("dblclick_sign")>-1){var m=window.getNurseName();this.getAttribute("name").split("_")[2];this.setAttribute("signno",m.username),this.innerText?(this.innerText="",this.removeAttribute("signno")):this.innerText=m.realName,n[t].className="edittr-bg",window.setChangeStateFn()}if(l.indexOf("dblclick_time")>-1&&(this.innerText?this.innerText="":this.innerText=p()().format("HH:mm"),n[t].className="edittr-bg",window.setChangeStateFn()),"checker_sign"===l){var g=i[a-1].getAttribute("userid");window.getSignerName(g,i[a]),n[t].className="edittr-bg",window.setChangeStateFn()}"date"===l&&(window.selectCurTr(r),n[t].className.indexOf("edittr-bg")>-1?n[t].className="edittr-bg selecttr-bg":n[t].className="selecttr-bg")},i[a].ondblclick=function(e){console.log("\u81ea\u5b9a\u4e49\u8868\u683c\u70b9\u51fb"),i[a].getAttribute("name").indexOf("reference_")>-1&&window.openReferenceDialog(this)}}(a)}(i)}function y(e,t){var n=e.getElementsByTagName("tbody")[0],i=e.getElementsByTagName("tr"),a=null,o=document.createElement("tr");o.className="edittr-bg";for(var r=0;r<i.length;r++)if(i[r].className.indexOf("fileds-tr")>-1&&"fileds-tr"===i[r].id)var l=i[r];a=l.getElementsByTagName("td");for(var s=0;s<a.length;s++){var c=document.createElement("td"),d=a[s].innerText,u=a[s].getAttribute("align"),m=d.split("_").pop(),g=a[s].getAttribute("showway"),f=a[s].getAttribute("setcontenteditable"),p="";if(c.setAttribute("name",d),c.setAttribute("align",u),c.setAttribute("grade",m),c.setAttribute("showway",g),c.setAttribute("contenteditable",f),"date"===d)c.innerText=window.formatTableDatetime("YYYY-MM-DD");else if("time"===d)c.innerText=window.formatTableDatetime("HH:mm");else if("nurse_sign"===d){var h=window.getNurseName();c.setAttribute("userid",h.id),c.setAttribute("signno",h.username),c.innerText=h.realName}else if(d.indexOf("select_")>-1){(v=d.split("_")).shift(),v.shift(),p+='<select style="width:100%; height: 100%; border:none; outline:none;">',p+='<option style="display:none;"></option>';for(var b=0;b<v.length;b++)p+='<option value="'+v[b]+'">'+v[b]+"</option>";p+="</select>",c.innerHTML=p}else if(d.indexOf("selectinput_")>-1){var v;(v=d.split("_")).shift(),v.shift(),p+='<div class="table-select-wrapper" style="position:relative; width: 100%; height: 100%;">',p+='<span style="overflow: hidden;">',p+='<select style="width:100%; height: 100%;background-color:transparent; border:none; font-size: 0; outline:none;" onchange="var event = window.event; event.stopPropagation(); this.parentNode.nextSibling.value=this.value;">',p+='<option style="display:none;"></option>';for(b=0;b<v.length;b++)p+='<option value="'+v[b]+'" style="font-size: 14px;">'+v[b]+"</option>";p+='</select></span><input type="text" name="box" autocomplete="off" style="width:calc(100% - 15px); position:absolute; left:0px; right: 23px; border:none; top: 0; bottom: 0; outline: none;background-color:transparent;"></div>',c.innerHTML=p}o.appendChild(c)}n.appendChild(o),e.appendChild(n),w(e),R(t)}function E(e,t){e.getElementsByTagName("tr");for(var n=t.getElementsByTagName("td"),i=0,a="",o=0;o<n.length;o++){var r=n[o].getAttribute("name"),l=n[o].getAttribute("grade");if(A(Number(1*l))&&""!==n[o].innerText&&(i+=Number(l)),A(Number(1*l))&&(a+=n[o].innerText),"statistics"===r&&(""==a&&(i=""),n[o].innerText=i),r.indexOf("scorelevel_")>-1){for(var s=r.split("_"),c=[],d=1;d<s.length;d++)c.push(s[d]);for(var u=0;u<c.length;u++){var m=c[u].split("(")[0],g=c[u].match(/[0-9]{0,9}\-[0-9]{0,9}/g).toString(),f=g.split("-")[0],p=g.split("-")[1];i>=f&&i<=p?(n[o].innerText=m,n[o].setAttribute("scorelevelIndex",u)):""==a&&(n[o].innerText="",n[o].removeAttribute("scorelevelIndex"))}}o===n.length-1&&(a="")}}function N(e,t){window.getSignerName(e,t,"dblclick")}function k(e,t){window.getSignerName(e,t,"click")}function x(e){var t=e.body.getElementsByClassName("emr-tab")[0];if(t){var n=t.getElementsByClassName("emr-tab-list")[0].getElementsByClassName("emr-tab-li"),i=t.getElementsByClassName("emr-tab-content")[0].getElementsByClassName("content");i[0].style.display="block",n[0].className="emr-tab-li active";for(var a=0;a<n.length;a++)n[a].index=a,a>0&&(i[a].style.display="none"),n[a].onclick=function(){this.getElementsByTagName("input")[0]&&n[this.index].getElementsByTagName("input")[0].click();for(var e=0;e<n.length;e++)i[e].style.display="none",n[e].className="emr-tab-li";n[this.index].className="emr-tab-li active",i[this.index].style.display="block"}}}function T(e,t,n,i){window.event?window.event.cancelBubble=!0:e.stopPropagation();e.target.previousSibling;switch(t){case"relevanceForm":window.parent.relatedEvent(t,n,i)}return!1}function C(e,t){for(var n=e.document.querySelectorAll("input[name="+t+"][type=radio]"),i="",a=0,o=n.length;a<o;a++)n[a].checked&&(i=n[a].value);return i}function _(e,t){for(var n=e.getElementsByTagName("input"),i=[],a=0,o=n.length;a<o;a++)n[a].checked&&i.push(n[a].value);return i.toString()}function A(e){return"number"===typeof e&&!isNaN(e)}function B(e){for(var t=e.window.document.getElementsByTagName("p"),n=e.window.document.getElementById("tabs"),i=e.document.getElementById("table-wrapper"),a=0,o=e.body.getElementsByTagName("table")[0],r=0;r<t.length;r++)window.getComputedStyle?a+=Number(getComputedStyle(t[r],null).marginTop.split("px")[0]):a+=Number(t[r].currentStyle.marginTop.split("px")[0]),a+=t[r].offsetHeight;i?(console.log("have form-table"),i&&(a+=i.offsetHeight)):(console.log("no form-table",o.offsetHeight),a+=o.offsetHeight),n&&(a+=n.offsetHeight+10),a+=60,document.getElementById("ueditor").style.height=a+"px",document.getElementsByClassName("edui-editor-iframeholder")[0].style.height=a+"px",e.window.document.getElementsByTagName("body")[0].style.height=a+"px"}function R(e){var t,n;e?(t=e.document.getElementById("table-wrapper"),n=e.document.getElementById("form-table")):(t=document.getElementById("table-wrapper"),n=document.getElementById("form-table")),t.scrollTop=n.offsetHeight}var U=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).defaultToolbar=[{name:"\u6587\u4ef6",commands:["source","undo","redo","formatmatch","removeformat","|","print","preview","searchreplace","|","allwidgets","allhtml"]},{name:"\u7f16\u8f91",commands:["bold","italic","underline","fontborder","strikethrough","subscript","superscript","|","paragraph","fontfamily","fontsize","|","indent","outdent","|","rowspacingtop","rowspacingbottom","lineheight","|","forecolor","backcolor","insertorderedlist","insertunorderedlist","indent","|","justifyleft","justifycenter","justifyright","justifyjustify","paste"]},{name:"\u63d2\u5165",commands:["simpleupload","insertimage","scrawl","inserttable","|","pagebreak","spechars","|","kityformula","|","horizontal","snapscreen","|","deletetable","insertparagraphbeforetable","insertrow","deleterow","insertcol","deletecol","|","mergecells","mergeright","mergedown","splittocells","splittorows","splittocols","emrpagebreak"]},{name:"\u8868\u683c",commands:["deletetable","insertparagraphbeforetable","insertrow","deleterow","insertcol","deletecol","|","mergecells","mergeright","mergedown","splittocells","splittorows","splittocols","|","tablecellrelavance","tablecellgroupmutil","tablecellwidth","tablecelleditable","tablefileds","tablecellchooseshow","tableprintcellwidth","tablesetselector","settingsplitrow"]},{name:"\u8868\u5355\u63a7\u4ef6",commands:["template","controllibrary","input","textarea","radio","checkbox","select","tabs","emrtable","remarksetting","emrbutton"]}],n.tabClicked=function(e){n.setState({currentTabIndex:e})},n.state={ueditor:void 0,currentTabIndex:0,tabs:[],bars:[]},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"attach",value:function(e){var t=this.props.toolbar||this.defaultToolbar;this.setState({ueditor:e,tabs:t.map((function(e){return e.name})),bars:t.map((function(t){return a.a.createElement("div",{className:"edui-default"},a.a.createElement("div",{className:"edui-toolbar",dangerouslySetInnerHTML:{__html:h(e,t.commands)}}))}))})}},{key:"render",value:function(){var e=this,t=this.props.title||"\u5c1a\u54f2\u8868\u5355\u7f16\u8f91\u5668",n=this.state,i=n.tabs,o=n.bars,r=n.currentTabIndex;return a.a.createElement("div",{className:"emreditor-toolbar"},a.a.createElement("ul",{className:"tab-list"},a.a.createElement("li",{className:"tab-list-item head"},t),i.map((function(t,n){return a.a.createElement("li",{key:n,className:g()("tab-list-item",r===n?"active":""),onClick:e.tabClicked.bind(e,n)},t)}))),a.a.createElement("div",{className:"toolbar-content"},o.map((function(e,t){return a.a.createElement("div",{key:t,className:g()("toolbar-content-item",r===t?"active":"")},e)}))))}},{key:"handleSave",value:function(){var e=window.UE.getEditor("ueditor").getContent();console.log(e)}},{key:"getRadioVal",value:function(e,t){for(var n=e.getElementsByTagName("input"),i="",a=0,o=n.length;a<o;a++)n[a].checked&&(i=n[a].value);return i}},{key:"getCheckBoxVal",value:function(e,t){for(var n=e.getElementsByTagName("input"),i=[],a=0,o=n.length;a<o;a++)n[a].checked?i.push(n[a].value):i.push("");return i}}]),t}(i.Component);function D(){window.location.origin;var e=document.createElement("p"),t=document.createElement("img"),n=document.createElement("span"),i=window.localStorage.getItem("logoInfo"),a=window.localStorage.getItem("hospitalName");return"\u5357\u65b9\u533b\u79d1\u5927\u5b66\u6df1\u5733\u533b\u9662"==a?e.className="NanYi":a.includes("\u76d0\u7530")&&(e.className="YanTian"),e.style.textAlign="center",t.src=i,t.style.height="80px",n.className="coding",e.appendChild(t),e.appendChild(n),e}var O="",S="",I=1;function L(e){for(var t,n,i=e.window.parent.document.querySelector(".sheet"),a=e.body.getElementsByTagName("table")[0],o=null,r=0,l=a.getElementsByClassName("fileds-tr"),s=l.length,c=e.document.querySelector("#fileds-tr").getElementsByTagName("td"),d=[],u=0;n=c[u++];){var m=n.getAttribute("changerow"),g=n.getAttribute("changerownum");if(m){var f={};f.name=m,f.strNum=g,d.push(f)}}if(function(e,t){for(var n=e.getElementsByTagName("tbody")[0].rows,i=0;i<n.length;i++)if(n[i].className.indexOf("fileds-tr")<0){for(var a,o=n[i].cells,r=[],l=[],s=[],c=0;c<o.length;c++)for(var d=o[c].getAttribute("name"),u=0;u<t.length;u++)d===t[u].name&&(o[c].setAttribute("size",t[u].strNum),r.push(o[c]),s.push(o[c].cellIndex));for(var m=0;m<r.length;m++){var g=r[m].getAttribute("size"),f=r[m].innerText.length,p=Math.ceil(f/g);l.push(p)}if((a=Math.max.apply(null,l))>1){for(var h={},b=document.createDocumentFragment(),v=0;v<a;v++){for(var w=document.createElement("tr"),y=0;y<o.length;y++)for(var E=document.createElement("td"),N=0;N<s.length;N++)if(y===s[N]){g=o[y].getAttribute("size");0===v?(h[N]=o[y].innerText,o[y].innerText=h[N].substring(v*g,(v+1)*g),o[y].style.textAlign="left"):(E.innerText=h[N].substring(v*g,(v+1)*g),E.style.textAlign="left"),w.appendChild(E)}else v===a-1&&y===o.length-1&&(E.innerHTML=o[y].innerHTML,o[y].innerText="",E.style.textAlign="center"),w.appendChild(E);v>0&&b.appendChild(w)}n[i].parentNode.insertBefore(b,n[i].nextSibling)}}}(a,d),t=(o=a.rows)[o.length-1].cells.length,i.className.indexOf("print-landscape")>-1&&(I=0),O=a.getAttribute("style"),S=a.getAttribute("printobj")){var p=JSON.parse(S).tablePrintCellWidthArr.split("\u3001"),h=JSON.parse(S).tableDataCell,b=JSON.parse(S).tablePrintCellNum,v=e.body.getElementsByTagName("p"),w=document.createElement("div"),y=document.createElement("div");y.id="temp-tips",y.style.display="none",w.className="form-header",w.style.display="none",w.appendChild(D());for(var E=0;E<v.length;E++)"paper-number"!==v[E].className&&"form-tips"!=v[E].className?(w.appendChild(v[E].cloneNode(!0)),e.body.removeChild(v[E]),E--):"form-tips"===v[E].className&&(y.appendChild(v[E]),E--);if(e.body.appendChild(w),e.body.appendChild(y),(r=Math.ceil((o.length-l.length)/b))<1){r=1;for(var N=a.getElementsByTagName("tbody")[0],k=0;k<b;k++){for(var x=document.createElement("tr"),T=0;T<t;T++){var C=document.createElement("td");C.setAttribute("printwidth",h),x.appendChild(C)}N.appendChild(x)}}for(var _=0;_<r;_++){var A=document.createElement("table"),B=document.createElement("tbody");A.setAttribute("style",O),A.setAttribute("printobj",S);for(var R=0;R<l.length;R++){for(var U=0;U<l[R].children.length;U++)l[R].children[U].setAttribute("printwidth",p[R]);B.appendChild(l[R].cloneNode(!0))}for(var L=s;L<b*r+s;L++)if(L<(_+1)*b+s&&L>=_*b+s)if(o[L]){for(var M=0;M<o[L].children.length;M++)o[L].children[M].setAttribute("printwidth",h);B.appendChild(o[L].cloneNode(!0))}else{for(var $=o[s].cloneNode(!0),q=$.getElementsByTagName("td"),P=0;P<q.length;P++)q[P].setAttribute("printwidth",h),q[P].innerText="";B.appendChild($)}A.appendChild(B),0==JSON.parse(S).isTransformTabelHead?j(e,w,A,y,_,r):H(e,A,_,r)}a.parentNode.removeChild(a)}}function H(e,t,n,i){var a=t.cloneNode(!0).getElementsByTagName("tr"),o=a[a.length-1].getElementsByTagName("td").length,r=document.createElement("table"),l=document.createElement("tbody");r.setAttribute("style",O),r.setAttribute("printobj",S);for(var s=JSON.parse(S).tablePrintCellWidthArr.split("\u3001"),c=0;c<a.length;c++)for(var d=a[c].cells,u=0;u<d.length;u++){var m=Number(d[u].getAttribute("colspan")),g=Number(d[u].getAttribute("rowspan"));if(m&&m>1)for(var f=0;f<m-1;f++){var p=document.createElement("td");p.setAttribute("subrowcell",d[u].innerText),d[u].setAttribute("rowspan",1),d[u].setAttribute("colspan",1),d[u].setAttribute("subrowcell",d[u].innerText),0===c&&p.setAttribute("printwidth",s[0]),d[u].parentNode.insertBefore(p,d[u].nextSibling)}if(g&&g>1)for(var h=0;h<g-1;h++){var b=document.createElement("td");b.setAttribute("subspancell",u),d[u].setAttribute("colspan",1),d[u].setAttribute("rowspan",1),d[u].setAttribute("subspancell",u),b.setAttribute("printwidth",s[1]),a[c+h+1].insertBefore(b,a[c+h+1].cells[u])}}for(var v=0;v<o;v++){for(var w=document.createElement("tr"),y=0;y<a.length;y++){var E=a[y].getElementsByTagName("td");if(E[v]){var N=E[v].cloneNode(!0);if(N.style.width=E[v].getAttribute("printwidth")+"px",N){var k=N.getAttribute("colspan"),x=N.getAttribute("rowspan");k&&k>1&&(N.setAttribute("rowspan",k),N.setAttribute("colspan",1)),x&&x>1&&(N.setAttribute("rowspan",1),N.setAttribute("colspan",k)),w.appendChild(N)}}}l.appendChild(w),r.appendChild(l)}!function(e,t,n,i){var a,o=JSON.parse(S).tableHeadRowsNum,r=t.rows,l=document.createElement("div");(l=e.document.querySelector(".form-header").cloneNode(!0)).style.display="block",a=Math.ceil(r.length/o);for(var s=0;s<a;s++){var c=document.createElement("div"),d=document.createElement("table"),u=document.createElement("tbody"),m=document.createElement("p"),g=null;m.style.textAlign="center",d.setAttribute("style",O),d.setAttribute("printobj",S),d.style.width="",c.className=0===I?"landscape-paper":"paper";for(var f=0;f<r.length;f++)f<(s+1)*o&&f>=o*s&&u.appendChild(r[f].cloneNode(!0));if(d.appendChild(u),m.innerText=1===a?"\u7b2c"+(n+1)+"\u9875":"\u7b2c"+(n+1)+"-"+(s+1)+"\u9875",m.className="paper-number",c.appendChild(l.cloneNode(!0)),c.appendChild(d),s===a-1){var p=e.document.getElementById("temp-tips");(g=document.createElement("div")).className="tips-box",g.innerHTML=p.innerHTML,c.appendChild(g)}c.appendChild(m),e.body.appendChild(c),M(e,d)}setTimeout((function(){var t;t=i*a*(0===I?209.3888:383.3888),e.window.parent.document.getElementById("ueditor").style.height=t+"mm",e.window.parent.document.getElementsByClassName("edui-editor-iframeholder")[0].style.height=t+"mm",e.document.getElementsByTagName("body")[0].style.height=t+"mm"}))}(e,r,n,i)}function M(e,t){for(var n=t.rows,i="",a=null,o="",r=1,l=0;l<n.length;l++){var s=n[l].cells;if(0==l)for(var c=0;c<s.length;c++){var d=null,u=1;if(c<4)for(var m=0;m<n.length;m++)(d=n[m].children[c].getAttribute("subrowcell"))&&i==d?(n[m].removeChild(n[m].children[c]),n[m-u].children[c].rowSpan+=1,u++):(i=d,u=1)}for(var g=0;g<s.length;g++){var f=s[g].innerText;(a=s[g].getAttribute("subspancell"))&&a==o&&!f?(s[g-r].colSpan+=1,n[l].removeChild(s[g]),r++):(o=a,r=1)}}}function j(e,t,n,i,a,o){var r=document.createElement("div"),l=document.createElement("p"),s=document.createElement("div"),c=null;if(l.style.textAlign="center",n.setAttribute("style",O),n.setAttribute("printobj",S),n.style.width="",s.className=0===I?"landscape-paper":"paper",l.className="paper-number",a===o-1){var d=e.document.getElementById("temp-tips");(c=document.createElement("div")).className="tips-box",c.innerHTML=d.innerHTML,s.appendChild(c)}if(l.innerText="\u7b2c"+(a+1)+"\u9875",a>0){for(var u=t.getElementsByClassName("emr-field"),m=t.getElementsByTagName("p"),g=0;g<u.length;g++)"tabs"===u[g].getAttribute("emrplugin")&&u[g].parentNode.removeChild(u[g]);for(var f=0;f<m.length;f++)m[f].innerText.indexOf("\u8868\u8fdb\u884c\u75bc\u75db\u8bc4\u4f30")>-1&&(m[f].style.display="none")}r.className="form-header",r.innerHTML=t.innerHTML,s.appendChild(r.cloneNode(!0)),s.appendChild(n),s.appendChild(l),e.body.appendChild(s),setTimeout((function(){var t;t=0===I?209.3888*o:383.3888*o,e.window.parent.document.getElementById("ueditor").style.height=t+"mm",e.window.parent.document.getElementsByClassName("edui-editor-iframeholder")[0].style.height=t+"mm",e.document.getElementsByTagName("body")[0].style.height=t+"mm"}))}function $(e,t){var n=e.body.children,i=(e.window.document.getElementsByTagName("table"),e.window.document.getElementById("tabs"),10),a=1,o=[],r=document.createElement("div"),l=[],s=[];r.className="form-print-paper";for(var c=0;c<n.length;c++)"emr-select-dropdown"!=n[c].className&&(i+=n[c].offsetHeight,window.getComputedStyle?i+=Number(getComputedStyle(n[c],null).marginTop.split("px")[0]):i+=Number(n[c].currentStyle.marginTop.split("px")[0]),t&&"landscape"==t.orientation&&i>944*a?(o.push(c-1),a++):i>1445*a+40*Math.floor(a/2)&&(o.push(c-1),a++));if(l.push.apply(l,n),0===o.length){var d=document.createElement("div");console.log("\u4e0d\u5230\u4e00\u9875"),d.className="form-print-paper",d.appendChild(D());for(var u=0;u<n.length;u++)"STYLE"===n[u].tagName&&"SCRIPT"===n[u].tagName||(d.appendChild(n[u]),u--);e.body.appendChild(d),setTimeout((function(){var n=0,i=e.window.document.getElementsByClassName("form-print-paper");if(t&&"landscape"==t.orientation){n=1024;var a=!0,o=!1,r=void 0;try{for(var l,s=i[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){l.value.style.height="944px"}}catch(f){o=!0,r=f}finally{try{a||null==s.return||s.return()}finally{if(o)throw r}}e.window.document.body.style.width="1405px"}else{n=1405;var c=!0,d=!1,u=void 0;try{for(var m,g=i[Symbol.iterator]();!(c=(m=g.next()).done);c=!0){m.value.style.height="1405px"}}catch(f){d=!0,u=f}finally{try{c||null==g.return||g.return()}finally{if(d)throw u}}e.window.document.body.style.width="984px"}e.window.parent.document.getElementsByClassName("edui-editor-iframeholder")[0].style.height=n+40+"px"}),300)}else{for(var m=0;m<o.length+1;m++){var g=[];o[m]?(g=l.slice(m*o[m],(m+1)*o[m]+1),s.push(g)):(g=l.slice(m*o[m-1]+1,(m+1)*o[m-1]+1),s.push(g))}for(var f=0;f<s.length;f++){d=document.createElement("div");var p=document.createElement("div");d.className="form-print-paper",p.className="paper-number",d.appendChild(D());for(var h=0;h<s[f].length;h++)d.appendChild(s[f][h]);p.innerText="\u7b2c"+(f+1)+"\u9875",d.appendChild(p),e.body.appendChild(d)}setTimeout((function(){var n=0,i=e.window.document.getElementsByClassName("form-print-paper");if(t&&"landscape"==t.orientation){n=1024*s.length;var a=!0,o=!1,r=void 0;try{for(var l,c=i[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){l.value.style.height="944px"}}catch(p){o=!0,r=p}finally{try{a||null==c.return||c.return()}finally{if(o)throw r}}e.window.document.body.style.width="1405px"}else{n=1445*s.length;var d=!0,u=!1,m=void 0;try{for(var g,f=i[Symbol.iterator]();!(d=(g=f.next()).done);d=!0){g.value.style.height="1445px"}}catch(p){u=!0,m=p}finally{try{d||null==f.return||f.return()}finally{if(u)throw m}}e.window.document.body.style.width="984px",e.document.getElementsByTagName("body")[0].style.height=n+"px"}e.window.parent.document.getElementsByClassName("edui-editor-iframeholder")[0].style.height=n+60+"px"}),300)}}function q(e){for(var t=e.rows,n=0,i=0;i<t.length;i++)if(t[i].querySelectorAll("input[type=radio]").length>0){var a=t[i].querySelector(".emr-field-value");a&&a.innerText&&(n+=1*a.innerText)}return 0===n?"":n}n(17);var P=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).setPattern=function(e){switch(n.state.options.pattern||"design"){case"design":n.designPattern(e);break;case"editable":n.editablePattern(e);break;case"readonly":n.readonlyPattern(e);break;default:n.editablePattern(e)}},n.designPattern=function(e){e&&(e.body.setAttribute("pattern","design"),e.setEnabled())},n.editablePattern=function(e){e&&e.body.setAttribute("pattern","editable")},n.readonlyPattern=function(e){e&&(e.body.setAttribute("pattern","readonly"),e.setDisabled(["inserthtml","copy","paste"]))},n.getContent=function(){return n.state.ueditor?n.state.ueditor.getContent():""},n.getContentSec=function(){return n.state.ueditor?n.state.ueditor.getContent():""},n.setContent=function(e){return n.state.ueditor?n.state.ueditor.setContent(e):""},n.loadContent=function(e){if(!n.state.ueditor)return"";var t=v.decode(e);return n.state.ueditor.setContent(t)},n.listenContentChange=function(){},n.getFields=function(){return function(e){var t,n,i=window.UE.getEditor("ueditor"),a=(i.getAllHtml(),i.document.getElementsByClassName("emr-plugin")),o={};if(n=(t=i.document.getElementById("table-wrapper"))?t.getElementsByTagName("table")[0]:i.body.getElementsByTagName("table")[0],a.length>0)for(var r=0;r<a.length;r++){var l=JSON.parse(a[r].getAttribute("obj").replace(/\'/g,'"'));if("radio"===l.componentType)o[l.controlId]=C(i,l.controlId);else if("checkbox"===l.conponentType)o[l.controlId]=_(a[r],l.controlId);else if("input"===l.conponentType)"signature"==l.textType?o[l.controlId]=a[r].getElementsByTagName("img")[0]&&a[r].getElementsByTagName("img")[0].getAttribute("src")||"":o[l.controlId]=a[r].getElementsByClassName("emr-field-value")[0].innerText;else if("textarea"===l.conponentType)o[l.controlId]=a[r].getElementsByClassName("emr-field-value")[0].innerHTML;else if("select"===l.conponentType)o[l.controlId]=a[r].getElementsByClassName("emr-field-value")[0].value,o[l.controlId+"Code"]=a[r].getElementsByClassName("emr-field-value")[0].getAttribute("data-val");else if("tabs"===l.conponentType){var s=a[r].getElementsByTagName("input"),c="";if(s){for(var d=0,u=s.length;d<u;d++)s[d].checked&&(c=s[d].value);o[l.controlId]=c}}else"emrbutton"===l.componentType&&(o[l.controlId]=a[r].getAttribute("data-value"));if("signature"===l.textType)o[a[r].getAttribute("id")+"Signno"]=""}if(n){var m=n.getElementsByTagName("tr"),g=[];for(d=1;d<m.length;d++){var f={},p=m[d].getAttribute("dataid");if(p&&(f.id=p),m[d].className.indexOf("fileds-tr")<0){for(var h=m[d].getElementsByTagName("td"),b=0;b<h.length;b++){var v=h[b].getAttribute("name");if(v)if(v.indexOf("scorelevel")>-1)f.scorelevel=h[b].innerText,f.scorelevelIndex=h[b].getAttribute("scorelevelIndex")?h[b].getAttribute("scorelevelIndex"):"";else if(v.indexOf("select_")>-1){var w=h[b].getElementsByTagName("select")[0];f[v.split("_")[1]]=w.value}else if(v.indexOf("selectinput_")>-1){var y=h[b].getElementsByTagName("input")[0];f[v.split("_")[1]]=y.value}else{if(f[v]=h[b].innerText,v.indexOf("nurse_sign")>-1&&(f.nurseSignNo=h[b].getAttribute("signno"),f.nurseId=h[b].getAttribute("userid")),v.indexOf("checker_sign")>-1&&(f.checkerUserNo=h[b].getAttribute("signno")),v.indexOf("dblclick_sign")>-1)f[v.split("dblclick_sign_")[1]+"_signno"]=h[b].getAttribute("signno")}}g.push(f)}}o.tableData_text=JSON.stringify(g).replace(/\\/g,"")}return o}()},n.getHeadsFields=function(){return function(e){var t,n=window.UE.getEditor("ueditor"),i=(n.getAllHtml(),n.document.getElementsByClassName("emr-plugin")),a={};if((t=n.document.getElementById("table-wrapper"))?t.getElementsByTagName("table")[0]:n.body.getElementsByTagName("table")[0],i.length>0)for(var o=0;o<i.length;o++){var r=JSON.parse(i[o].getAttribute("obj").replace(/\'/g,'"'));"radio"===r.componentType&&r.formHeadData?a[r.controlId]=C(n,r.controlId):"checkbox"===r.conponentType&&r.formHeadData?a[r.controlId]=_(i[o],r.controlId):"input"===r.conponentType&&"baseInfo"==r.textType?a[r.controlId]=i[o].getElementsByClassName("emr-field-value")[0].innerText:"input"===r.conponentType&&r.formHeadData?a[r.controlId]=i[o].getElementsByClassName("emr-field-value")[0].innerText:"textarea"===r.conponentType&&r.formHeadData?a[r.controlId]=i[o].getElementsByClassName("emr-field-value")[0].innerHTML:"select"===r.conponentType&&r.formHeadData&&(a[r.controlId]=i[o].getElementsByClassName("emr-field-value")[0].value,a[r.controlId+"Code"]=i[o].getElementsByClassName("emr-field-value")[0].getAttribute("data-val"))}return a}()},n.replaceFields=function(e,t){return function(e,t){var n=window.UE.getEditor("ueditor"),i=(n.getAllHtml(),n.document.getElementsByClassName("emr-plugin"));if(n.document.getElementById("table-wrapper"),i.length>0)for(var a=0;a<i.length;a++){var o=JSON.parse(i[a].getAttribute("obj").replace(/\'/g,'"'));if("input"===o.conponentType&&"\u7b7e\u540d\u65e5\u671f"!==o.controlName&&1!=o.noBackslash||"select"===o.conponentType){var r=void 0;"input"==o.conponentType?r="signature"==o.textType?i[a].getElementsByTagName("img")[0]||"":i[a].getElementsByClassName("emr-field-value")[0].innerText.trim():"select"==o.conponentType&&(r=i[a].getElementsByTagName("input")[0].getAttribute("value")),"input"!=o.conponentType||""!==r&&"/"!==r?"select"!==o.conponentType||r||(i[a].getElementsByTagName("input")[0].value=t,i[a].getElementsByTagName("input")[0].setAttribute("value",t),i[a].getElementsByTagName("input")[0].style.textAlign="center"):(i[a].getElementsByClassName("emr-field-value")[0].innerText=t,"/"===t&&(i[a].getElementsByClassName("emr-field-value")[0].style.textAlign="center"))}}}(0,t)},console.debug("Construct EMREditor with options: ".concat(JSON.stringify(n.props.options))),n.state={ueditor:void 0,options:n.props.options||{}},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this,n=window.UE.getEditor("ueditor",{initialFrameWidth:"100%",initialFrameHeight:"100%",autoHeightEnabled:!0,allowDivTransToP:!1,allowScriptTransToDiv:!1,disabledTableInTable:!1,autosave:!1,imageActionName:this.props.options.imageActionName});n.ready((function(){n.setContent("",!0),t.setPattern(n),"function"===typeof t.props.onReady&&(t.props.onReady(n,(function(){var e=n.body.getElementsByTagName("table")[0],i=n.window.parent.setChangeStateFn;if(e){var a=e.getElementsByTagName("tr");if("editable"===t.props.options.pattern||"design"===t.props.options.pattern)for(var o=0;o<a.length;o++)a[o].id.indexOf("fileds-tr")>-1&&(a[o].style.display="table-row");else for(o=0;o<a.length;o++)if(a[o].id.indexOf("fileds-tr")>-1){a[o].style.display="none";for(var r=0;r<a[o].cells.length;r++)a[o].cells[r].style.display="none"}n.window.parent.addTableRows=y,n.window.parent.tableEvents=w,"print-portrait"!==t.props.options.printOrientation&&"print-landscape"!==t.props.options.printOrientation||(n.window.parent.tableSplitByData=L),n.window.parent.calcUeditorHeight=B}!function(e){e.window.emrTabs=x}(n),n.window.emrTabs(n),function(e){e.window.releBtn=T}(n),function(e){var t=e.document.getElementById("weight");if(t){var n=function(){var t=o.innerText.trim(),n=r.innerText.trim(),l=e.document.getElementById("bmi").getElementsByClassName("emr-field-value")[0];l.innerText;if(t&&n){var s=i(1*t,1*n/100);l.innerText=s,setTimeout((function(){a(s<20.5?0:1)}),500)}else l.innerText="",setTimeout((function(){a()}),500)},i=function(e,t){return(e/(t*t)).toFixed(2)},a=function(t){for(var n=e.document.getElementById("nutritionRiskFilter").getElementsByTagName("input"),i=0;i<n.length;i++)n[i].removeAttribute("checked"),t==n[i].value&&n[i].setAttribute("checked",!0)},o=t.getElementsByClassName("emr-field-value")[0],r=e.document.getElementById("height").getElementsByClassName("emr-field-value")[0];o.onkeyup=n,r.onkeyup=n}}(n),n.window.parent.formSplitPage=$,function(e){e.document.addEventListener("click",(function(e){var t=e.target;if(t&&"INPUT"===t.tagName&&t.parentNode.className.indexOf("emr-tab-li")<0&&"radio"===t.getAttribute("type")){for(var n=t.closest("span").querySelectorAll(".emr-radio"),i=0;i<n.length;i++)t.value!==n[i].value&&n[i].removeAttribute("checked");t.getAttribute("checked")?(t.checked="",t.removeAttribute("checked")):t.setAttribute("checked","checked")}}),!1)}(n),n.addListener("focus",(function(){setTimeout((function(){var e=n.document.getElementById("table-wrapper"),t=(n.document.querySelectorAll(".emr-plugin"),e?e.firstChild:null);return t&&"TABLE"!=t.tagName&&t.parentNode.removeChild(t),!1}),0)})),"readonly"===t.state.options.pattern&&(n.document.addEventListener("keydown",(function(e){if(13==e.keyCode&&"textarea"!==e.target.parentNode.getAttribute("emrplugin"))return e.preventDefault(),!1;var t=e.target,n="TD"===t.tagName?t:t.closest("td"),i=t.closest("tr"),a=n&&n.getAttribute("contenteditable");("INPUT"===t.tagName&&"text"===t.getAttribute("type")||a)&&(i.className="edittr-bg")})),n.document.addEventListener("paste",(function(e){e.preventDefault();var t=e.clipboardData||e.originalEvent.clipboardData,a=(n.document.getElementsByClassName("emr-field-value"),n.document.getElementsByClassName("td"),t.getData("Text"));n.document.execCommand("insertText",!1,a),i()})),function(e,t){var n=e.body.getElementsByTagName("input"),i=e.body.getElementsByTagName("select");e.addListener("contentChange",(function(e){t&&t()}));for(var a=0;a<n.length;a++)!function(e){n[e].addEventListener("change",(function(){n[e]&&("text"!==n[e].getAttribute("type")&&t())}))}(a);for(var o,r=0;o=i[r++];)o.addEventListener("change",(function(){t()}))}(n,i),t.props.options.printOrientation||(function(e){if(e&&"form-table"===e.id)for(var t=e.rows,n=t[0].cells,i=0,a=0,o=0,r=0,l=0;l<n.length;l++){var s=1*n[l].getAttribute("colspan");if(0===a&&(a+=1),n[l].className=l%2==0?"oddtd-bg":"eventd-bg",s&&s>1){var c=t[a].cells;i+=s-1;for(var d=0;d<c.length;d++)d>=r&&d+o<=l+i&&(c[d].className=n[l].className,r+=1)}else l,o+=1;l==n.length-1&&(a+=1)}}(e),function(e){if(e){var t=e.getElementsByTagName("tbody")[0],n=document.createElement("div"),i=document.createElement("table"),a=document.createElement("thead"),o=t.getElementsByTagName("tr"),r=document.createElement("div"),l=0,s=e.offsetWidth,c=e.id;if(n.style.cssText="width: 100%; height:451px; overflow-x: auto;","form-table"===c){i.style.cssText="position:relative; z-index:2; margin-bottom:0; table-layout: fixed; width: "+s+"px;",i.id="thead-table",a.className="thead",r.className="table-wrapper",r.id="table-wrapper";for(var d=0;d<o.length;d++)o[d].className.indexOf("fileds-tr")>-1&&(a.appendChild(o[d].cloneNode(!0)),l+=o[d].offsetHeight);e.parentNode.insertBefore(i,e),e.parentNode.insertBefore(r,e),432,r.style.cssText="margin-top: -"+(l+1)+"px; height:432px; width:"+(s?s+"px":"100%")+"; overflow-y: auto;",e.parentNode.insertBefore(n,e),n.appendChild(i),n.appendChild(r),i.appendChild(a),r.appendChild(e)}}}(e),function(e){var t=e.document.getElementsByTagName("table")[0];if(t){var n,i=t.rows,a=e.document.querySelector("#totalscore"),o="";if(a){n=a.querySelector(".emr-field-value");for(var r=0;r<i.length;r++)!function(e){for(var a=i[e],r=a.getElementsByTagName("input"),l=a.cells,s=0;s<r.length;s++)"radio"==r[s].getAttribute("type")&&(r[s].onclick=function(e){for(var i=l[l.length-1].querySelector(".emr-field-value"),a=0;a<r.length;a++)r[a].value!==this.value&&r[a].removeAttribute("checked");this.getAttribute("checked")?(this.removeAttribute("checked"),this.checked="",i.innerText=""):(this.setAttribute("checked","checked"),i.innerText=this.value),o=q(t),n.innerText=o})}(r)}}}(n)),n.window.parent.scrollToBottom=R)})),n.window.dblclickOpenSignDialog=N,n.window.clickOpenSignDialog=k)})),this.refs.emrToolBar&&this.refs.emrToolBar.attach(n),setTimeout((function(){e.setState({ueditor:n})}),200)}},{key:"render",value:function(){var e=this.state.options,t=e.paper,n=e.orientation,i=e.printOrientation,o=e.showBar,r=g()(t||"A4","sheet",n||"portrait",i),l="readonly"===this.state.options.pattern?" emreditor-readonly-content-box":"",s=null;return s=1==o?a.a.createElement(U,{ref:"emrToolBar",getContent:this.getContent,onSave:this.props.onSave}):a.a.createElement("div",null),a.a.createElement("div",{className:"emreditor"},s,a.a.createElement("div",{className:["emreditor-content-box"+l]},a.a.createElement("div",{className:r},a.a.createElement("script",{id:"ueditor",name:"content",type:"text/plain"}))))}}]),t}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=function(e){this.ref=e};F.prototype.getContent=function(){return this.ref.getContent()},F.prototype.setContent=function(e){return this.ref.setContent(e)},F.prototype.loadContent=function(e){return this.ref.loadContent(e)},window.EMREditor=function(e,t){var n;return function(){var e=window.baidu||{},t=e.editor=window.UE;t?(t.plugins.input=function(){var n=this;n.commands.input={execCommand:function(){var e=new t.ui.Dialog({iframeUrl:this.options.UEDITOR_HOME_URL+"dialogs/samjan/input.html",name:"input",editor:this,title:"\u63d2\u5165\u6587\u672c\u8f93\u5165\u57df",cssRules:"width: 600px; height: 310px",buttons:[{className:"edui-okbutton",label:"\u786e\u5b9a",onclick:function(){e.close(!0)}},{className:"edui-cancelbutton",label:"\u53d6\u6d88",onclick:function(){e.close(!1)}}]});e.render(),e.open()}};var i=new e.editor.ui.Popup({editor:this,content:"",className:"edui-bubble",_edittext:function(){e.editor.plugins.input.editdom=i.anchorEl,n.execCommand("input"),this.hide()},_delete:function(){window.confirm("\u786e\u8ba4\u8981\u5220\u9664\u672c\u63a7\u4ef6\u5417\uff1f")&&e.editor.dom.domUtils.remove(this.anchorEl,!1),this.hide()}});i.render(),n.addListener("mouseover",(function(e,t){var a=n.body.getAttribute("pattern");if(!a||"design"===a){var o=b((t=t||window.event).target||t.srcElement,"emrplugin");if(o)if("input"===o.getAttribute("emrplugin")){var r=i.formatHtml("<nobr>".concat(o.getAttribute("title"),'  \u5355\u884c\u6587\u672c\u8f93\u5165: <span onclick=$$._edittext() class="edui-clickable">\u7f16\u8f91</span> <span onclick=$$._delete() class="edui-clickable">\u5220\u9664</span></nobr>'));r?(i.getDom("content").innerHTML=r,i.anchorEl=o,i.showAnchor(i.anchorEl)):i.hide()}else i.hide();else i.hide()}}))},e.editor.ui.input=function(e,n,i){var a=new t.ui.Dialog({iframeUrl:e.options.UEDITOR_HOME_URL+"dialogs/samjan/input.html",editor:e,name:"input",title:"\u63d2\u5165\u6587\u672c\u8f93\u5165\u57df",cssRules:"width: 620px; height: 330px",buttons:[{className:"edui-okbutton",label:"\u786e\u5b9a",onclick:function(){a.close(!0)}},{className:"edui-cancelbutton",label:"\u53d6\u6d88",onclick:function(){a.close(!1)}}]});e.ready((function(){t.utils.cssRule("kfformula","img.kfformula{vertical-align: middle;}",e.document)}));var o=e.options.UEDITOR_HOME_URL+"icons/input.png",r=document.createElement("a");r.href=o,r.href=r.href,o=r.href;var l=new t.ui.Button({name:"input-1",title:"\u63d2\u5165\u5355\u884c\u6587\u672c\u8f93\u5165\u57df",className:"edui-for-input-1",cssRules:"background-image: url(".concat(o,") !important"),onclick:function(){a.render(),a.open()}});return e.addListener("selectionchange",(function(){var t=e.queryCommandState("input");-1===t?(l.setDisabled(!0),l.setChecked(!1)):(l.setDisabled(!1),l.setChecked(t))})),l}):console.error("\u63a7\u4ef6\u52a0\u8f7d\u5f02\u5e38\uff0c\u8bf7\u786e\u5b9a\u662f\u5426\u6b63\u786e\u52a0\u8f7dUEditor\u63d2\u4ef6")}(),function(){var e=window.baidu||{},t=e.editor=window.UE;t?(t.plugins.textarea=function(){var n=this;n.commands.textarea={execCommand:function(){var e=new t.ui.Dialog({iframeUrl:this.options.UEDITOR_HOME_URL+"dialogs/samjan/textarea.html",name:"textarea",editor:this,title:"\u63d2\u5165\u591a\u884c\u6587\u672c\u57df",cssRules:"width: 1024px; height: 450px",buttons:[{className:"edui-okbutton",label:"\u786e\u5b9a",onclick:function(){e.close(!0)}},{className:"edui-cancelbutton",label:"\u53d6\u6d88",onclick:function(){e.close(!1)}}]});e.render(),e.open()}};var i=new e.editor.ui.Popup({editor:this,content:"",className:"edui-bubble",_edittext:function(){e.editor.plugins.textarea.editdom=i.anchorEl,n.execCommand("textarea"),this.hide()},_delete:function(){window.confirm("\u786e\u8ba4\u8981\u5220\u9664\u672c\u63a7\u4ef6\u5417\uff1f")&&e.editor.dom.domUtils.remove(this.anchorEl,!1),this.hide()}});i.render(),n.addListener("mouseover",(function(e,t){var a=n.body.getAttribute("pattern");if(!a||"design"===a){var o=b((t=t||window.event).target||t.srcElement,"emrplugin");if(o)if("textarea"===o.getAttribute("emrplugin")){var r=i.formatHtml("<nobr>".concat(o.getAttribute("title"),'  \u5355\u884c\u6587\u672c\u8f93\u5165: <span onclick=$$._edittext() class="edui-clickable">\u7f16\u8f91</span> <span onclick=$$._delete() class="edui-clickable">\u5220\u9664</span></nobr>'));r?(i.getDom("content").innerHTML=r,i.anchorEl=o,i.showAnchor(i.anchorEl)):i.hide()}else i.hide();else i.hide()}}))},e.editor.ui.textarea=function(e,n,i){var a=new t.ui.Dialog({iframeUrl:e.options.UEDITOR_HOME_URL+"dialogs/samjan/textarea.html",editor:e,name:"textarea",title:"\u63d2\u5165\u591a\u884c\u6587\u672c\u57df",cssRules:"width: 1024px; height: 450px",buttons:[{className:"edui-okbutton",label:"\u786e\u5b9a",onclick:function(){a.close(!0)}},{className:"edui-cancelbutton",label:"\u53d6\u6d88",onclick:function(){a.close(!1)}}]});e.ready((function(){t.utils.cssRule("kfformula","img.kfformula{vertical-align: middle;}",e.document)}));var o=e.options.UEDITOR_HOME_URL+"icons/textarea.png",r=document.createElement("a");r.href=o,r.href=r.href,o=r.href;var l=new t.ui.Button({name:"textarea-1",title:"\u63d2\u5165\u591a\u884c\u6587\u672c\u57df",className:"edui-for-textarea-1",cssRules:"background-image: url(".concat(o,") !important"),onclick:function(){a.render(),a.open()}});return e.addListener("selectionchange",(function(){var t=e.queryCommandState("textarea");-1===t?(l.setDisabled(!0),l.setChecked(!1)):(l.setDisabled(!1),l.setChecked(t))})),l}):console.error("\u63a7\u4ef6\u52a0\u8f7d\u5f02\u5e38\uff0c\u8bf7\u786e\u5b9a\u662f\u5426\u6b63\u786e\u52a0\u8f7dUEditor\u63d2\u4ef6")}(),function(){var e=window.baidu||{},t=e.editor=window.UE;t?(t.plugins.radio=function(){var n=this;n.commands.radio={execCommand:function(){var e=new t.ui.Dialog({iframeUrl:this.options.UEDITOR_HOME_URL+"dialogs/samjan/radio.html",name:"radio",editor:this,title:"\u5355\u9009\u9879\u76ee1",cssRules:"width: 600px; height: 300px",buttons:[{className:"edui-okbutton",label:"\u786e\u5b9a",onclick:function(){e.close(!0)}},{className:"edui-cancelbutton",label:"\u53d6\u6d88",onclick:function(){e.close(!1)}}]});e.render(),e.open()}};var i=new e.editor.ui.Popup({editor:this,content:"",className:"edui-bubble",_edittext:function(){e.editor.plugins.radio.editdom=i.anchorEl,n.execCommand("radio"),this.hide()},_delete:function(){window.confirm("\u786e\u8ba4\u5220\u9664\u8be5\u63a7\u4ef6\u5417?")&&e.editor.dom.domUtils.remove(this.anchorEl,!1),this.hide()}});i.render(),n.addListener("mouseover",(function(e,t){var a=n.body.getAttribute("pattern");if(!a||"design"===a){var o=b((t=t||window.event).target||t.srcElement,"emrplugin");if(o){if("radio"===o.getAttribute("emrplugin")){var r=i.formatHtml("<nobr>".concat(o.getAttribute("title"),'  \u5355\u9009\u6846: <span onclick=$$._edittext() class="edui-clickable">\u7f16\u8f91</span> <span onclick=$$._delete class="edui-clickable">\u5220\u9664</span></nobr>'));r?(i.getDom("content").innerHTML=r,i.anchorEl=o,i.showAnchor(i.anchorEl)):i.hide()}}else i.hide()}}))},e.editor.ui.radio=function(e,n,i){var a=new t.ui.Dialog({iframeUrl:e.options.UEDITOR_HOME_URL+"dialogs/samjan/radio.html",editor:e,name:"radio",title:"\u63d2\u5165\u5355\u9009\u6846",cssRules:"width: 600px; height: 300px;",buttons:[{className:"edui-okbutton",label:"\u786e\u5b9a",onclick:function(){a.close(!0)}},{className:"edui-cancelbutton",label:"\u53d6\u6d88",onclick:function(){a.close(!1)}}]});e.ready((function(){t.utils.cssRule("kfformula","img.kfforumla{vertical-align: middle;}",e.document)}));var o=e.options.UEDITOR_HOME_URL+"icons/radio_select.png",r=document.createElement("a");r.href=o,r.href=r.href,o=r.href;var l=new t.ui.Button({name:"radio-1",title:"\u63d2\u5165\u5355\u9009\u9879\u76ee",className:"edui-for-radio-1",cssRules:"background-image: url(".concat(o,") !important"),onclick:function(){a.render(),a.open()}});return e.addListener("selectionchange",(function(){var t=e.queryCommandState("radio");-1===t?(l.setDisabled(!0),l.setChecked(!1)):(l.setDisabled(!1),l.setChecked(t))})),l}):alert("\u63a7\u4ef6\u52a0\u8f7d\u5f02\u5e38\uff0c")}(),function(){var e=window.baidu||{},t=e.editor=window.UE;t?(t.plugins.checkbox=function(){var n=this;n.commands.checkbox={execCommand:function(){var e=new t.ui.Dialog({iframeUrl:this.options.UEDITOR_HOME_URL+"dialogs/samjan/checkbox.html",name:"checkbox",editor:this,title:"\u590d\u9009\u9879\u76ee1",cssRules:"width: 600px; height: 300px",buttons:[{className:"edui-okbutton",label:"\u786e\u5b9a",onclick:function(){e.close(!0)}},{className:"edui-cancelbutton",label:"\u53d6\u6d88",onclick:function(){e.close(!1)}}]});e.render(),e.open()}};var i=new e.editor.ui.Popup({editor:this,content:"",className:"edui-bubble",_edittext:function(){console.log(i.anchorEl,"popup.anchorEl"),e.editor.plugins.checkbox.editdom=i.anchorEl,n.execCommand("checkbox"),this.hide()},_delete:function(){window.confirm("\u786e\u8ba4\u5220\u9664\u8be5\u63a7\u4ef6\u5417?")&&e.editor.dom.domUtils.remove(this.anchorEl,!1),this.hide()}});i.render(),n.addListener("mouseover",(function(e,t){var a=n.body.getAttribute("pattern");if(!a||"design"===a){var o=b((t=t||window.event).target||t.srcElement,"emrplugin");if(o){if("checkbox"===o.getAttribute("emrplugin")){var r=i.formatHtml("<nobr>".concat(o.getAttribute("title"),'  \u590d\u9009\u6846: <span onclick=$$._edittext() class="edui-clickable">\u7f16\u8f91</span> <span onclick=$$._delete class="edui-clickable">\u5220\u9664</span></nobr>'));r?(i.getDom("content").innerHTML=r,i.anchorEl=o,i.showAnchor(i.anchorEl)):i.hide()}}else i.hide()}}))},e.editor.ui.checkbox=function(e,n,i){var a=new t.ui.Dialog({iframeUrl:e.options.UEDITOR_HOME_URL+"dialogs/samjan/checkbox.html",editor:e,name:"checkbox",title:"\u63d2\u5165\u590d\u9009\u6846",cssRules:"width: 600px; height: 300px;",buttons:[{className:"edui-okbutton",label:"\u786e\u5b9a",onclick:function(){a.close(!0)}},{className:"edui-cancelbutton",label:"\u53d6\u6d88",onclick:function(){a.close(!1)}}]});e.ready((function(){t.utils.cssRule("kfformula","img.kfforumla{vertical-align: middle;}",e.document)}));var o=e.options.UEDITOR_HOME_URL+"icons/checkbox_checked.png",r=document.createElement("a");r.href=o,r.href=r.href,o=r.href;var l=new t.ui.Button({name:"checkbox-1",title:"\u63d2\u5165\u590d\u9009\u9879\u76ee",className:"edui-for-checkbox-1",cssRules:"background-image: url(".concat(o,") !important"),onclick:function(){a.render(),a.open()}});return e.addListener("selectionchange",(function(){var t=e.queryCommandState("input");-1===t?(l.setDisabled(!0),l.setChecked(!1)):(l.setDisabled(!1),l.setChecked(t))})),l}):alert("\u63a7\u4ef6\u52a0\u8f7d\u5f02\u5e38\uff0c")}(),function(){var e=window.baidu||{},t=e.editor=window.UE;t?(t.plugins.select=function(){var n=this;n.commands.select={execCommand:function(){var e=new t.ui.Dialog({iframeUrl:this.options.UEDITOR_HOME_URL+"dialogs/samjan/select.html",name:"select",editor:this,title:"\u63d2\u5165\u4e0b\u62c9\u83dc\u5355",cssRules:"width: 700px; height: 430px",buttons:[{className:"edui-okbutton",label:"\u786e\u5b9a",onclick:function(){e.close(!0)}},{className:"edui-cancelbutton",label:"\u53d6\u6d88",onclick:function(){e.close(!1)}}]});e.render(),e.open()}};var i=new e.editor.ui.Popup({editor:this,content:"",className:"edui-bubble",_edittext:function(){e.editor.plugins.select.editdom=i.anchorEl,n.execCommand("select"),this.hide()},_delete:function(){window.confirm("\u786e\u8ba4\u8981\u5220\u9664\u672c\u63a7\u4ef6\u5417\uff1f")&&e.editor.dom.domUtils.remove(this.anchorEl,!1),this.hide()}});i.render(),n.addListener("mouseover",(function(e,t){var a=n.body.getAttribute("pattern");if(!a||"design"===a){var o=b((t=t||window.event).target||t.srcElement,"emrplugin");if(o)if("select"===o.getAttribute("emrplugin")){var r=i.formatHtml("<nobr>".concat(o.getAttribute("title"),'  \u4e0b\u62c9\u83dc\u5355: <span onclick=$$._edittext() class="edui-clickable">\u7f16\u8f91</span> <span onclick=$$._delete() class="edui-clickable">\u5220\u9664</span></nobr>'));r?(i.getDom("content").innerHTML=r,i.anchorEl=o,i.showAnchor(i.anchorEl)):i.hide()}else i.hide();else i.hide()}}))},e.editor.ui.select=function(e,n,i){var a=new t.ui.Dialog({iframeUrl:e.options.UEDITOR_HOME_URL+"dialogs/samjan/select.html",editor:e,name:"select",title:"\u63d2\u5165\u4e0b\u62c9\u83dc\u5355",cssRules:"width: 700px; height: 430px",buttons:[{className:"edui-okbutton",label:"\u786e\u5b9a",onclick:function(){a.close(!0)}},{className:"edui-cancelbutton",label:"\u53d6\u6d88",onclick:function(){a.close(!1)}}]});e.ready((function(){t.utils.cssRule("kfformula","img.kfformula{vertical-align: middle;}",e.document)}));var o=e.options.UEDITOR_HOME_URL+"icons/select.png",r=document.createElement("a");r.href=o,r.href=r.href,o=r.href;var l=new t.ui.Button({name:"select-1",title:"\u63d2\u5165\u4e0b\u62c9\u83dc\u5355",className:"edui-for-select-1",cssRules:"background-image: url(".concat(o,") !important"),onclick:function(){a.render(),a.open()}});return e.addListener("selectionchange",(function(){var t=e.queryCommandState("input");-1===t?(l.setDisabled(!0),l.setChecked(!1)):(l.setDisabled(!1),l.setChecked(t))})),l}):console.error("\u63a7\u4ef6\u52a0\u8f7d\u5f02\u5e38\uff0c\u8bf7\u786e\u5b9a\u662f\u5426\u6b63\u786e\u52a0\u8f7dUEditor\u63d2\u4ef6")}(),function(){var e=window.baidu||{},t=e.editor=window.UE;t?(t.plugins.tabs=function(){var n=this;n.commands.tabs={execCommand:function(){var e=new t.ui.Dialog({iframeUrl:this.options.UEDITOR_HOME_URL+"dialogs/samjan/tabs.html",name:"tabs",editor:this,title:"\u63d2\u5165\u6807\u7b7e\u9875\u7ec4\u4ef6",cssRules:"width: 600px; height: 300px",buttons:[{className:"edui-okbutton",label:"\u786e\u5b9a",onclick:function(){e.close(!0)}},{className:"edui-cancelbutton",label:"\u53d6\u6d88",onclick:function(){e.close(!1)}}]});e.render(),e.open()}};var i=new e.editor.ui.Popup({editor:this,content:"",className:"edui-bubble",_edittext:function(){e.editor.plugins.tabs.editdom=i.anchorEl,n.execCommand("tabs"),this.hide()},_delete:function(){window.confirm("\u786e\u8ba4\u8981\u5220\u9664\u672c\u63a7\u4ef6\u5417\uff1f")&&e.editor.dom.domUtils.remove(this.anchorEl,!1),this.hide()}});i.render(),n.addListener("mouseover",(function(e,t){var a=n.body.getAttribute("pattern");if(!a||"design"===a){var o=b((t=t||window.event).target||t.srcElement,"emrplugin");if(o)if("tabs"===o.getAttribute("emrplugin")){var r=i.formatHtml("<nobr>".concat(o.getAttribute("title"),'  \u5355\u884c\u6587\u672c\u8f93\u5165: <span onclick=$$._edittext() class="edui-clickable">\u7f16\u8f91</span> <span onclick=$$._delete() class="edui-clickable">\u5220\u9664</span></nobr>'));r?(i.getDom("content").innerHTML=r,i.anchorEl=o,i.showAnchor(i.anchorEl)):i.hide()}else i.hide();else i.hide()}}))},e.editor.ui.tabs=function(e,n,i){var a=new t.ui.Dialog({iframeUrl:e.options.UEDITOR_HOME_URL+"dialogs/samjan/tabs.html",editor:e,name:"tabs",title:"\u63d2\u5165\u6807\u7b7e\u9875\u7ec4\u4ef6",cssRules:"width: 600px; height: 300px",buttons:[{className:"edui-okbutton",label:"\u786e\u5b9a",onclick:function(){a.close(!0)}},{className:"edui-cancelbutton",label:"\u53d6\u6d88",onclick:function(){a.close(!1)}}]});e.ready((function(){t.utils.cssRule("kfformula","img.kfformula{vertical-align: middle;}",e.document)}));var o=e.options.UEDITOR_HOME_URL+"icons/tabs.png",r=document.createElement("a");r.href=o,r.href=r.href,o=r.href;var l=new t.ui.Button({name:"tabs-1",title:"\u63d2\u5165\u6807\u7b7e\u9875\u7ec4\u4ef6",className:"edui-for-tabs-1",cssRules:"background-image: url(".concat(o,") !important"),onclick:function(){a.render(),a.open()}});return e.addListener("selectionchange",(function(){var t=e.queryCommandState("input");-1===t?(l.setDisabled(!0),l.setChecked(!1)):(l.setDisabled(!1),l.setChecked(t))})),l}):console.error("\u63a7\u4ef6\u52a0\u8f7d\u5f02\u5e38\uff0c\u8bf7\u786e\u5b9a\u662f\u5426\u6b63\u786e\u52a0\u8f7dUEditor\u63d2\u4ef6")}(),function(){var e=window.baidu||{},t=e.editor=window.UE;t?(t.plugins.emrtable=function(){var n=this;n.commands.emrtable={execCommand:function(){var e=new t.ui.Dialog({iframeUrl:this.options.UEDITOR_HOME_URL+"dialogs/samjan/emrtable.html",name:"emrtable",editor:this,title:"\u8bbe\u8ba1\u8868\u683c",cssRules:"width: 500px; height: 190px",buttons:[{className:"edui-okbutton",label:"\u786e\u5b9a",onclick:function(){e.close(!0)}},{className:"edui-cancelbutton",label:"\u53d6\u6d88",onclick:function(){e.close(!1)}}]});e.render(),e.open()}};var i=new e.editor.ui.Popup({editor:this,content:"",className:"edui-bubble",_edittext:function(){e.editor.plugins.emrtable.editdom=i.anchorEl,n.execCommand("emrtable"),this.hide()},_delete:function(){window.confirm("\u786e\u8ba4\u8981\u5220\u9664\u672c\u63a7\u4ef6\u5417\uff1f")&&e.editor.dom.domUtils.remove(this.anchorEl,!1),this.hide()}});i.render(),n.addListener("mouseover",(function(e,t){var a=n.body.getAttribute("pattern");if(!a||"design"===a){var o=b((t=t||window.event).target||t.srcElement,"emrplugin");if(o)if("emrtable"===o.getAttribute("emrplugin")){var r=i.formatHtml("<nobr>".concat(o.getAttribute("title"),'  \u5355\u884c\u6587\u672c\u8f93\u5165: <span onclick=$$._edittext() class="edui-clickable">\u7f16\u8f91</span> <span onclick=$$._delete() class="edui-clickable">\u5220\u9664</span></nobr>'));r?(i.getDom("content").innerHTML=r,i.anchorEl=o,i.showAnchor(i.anchorEl)):i.hide()}else i.hide();else i.hide()}}))},e.editor.ui.emrtable=function(e,n,i){var a=new t.ui.Dialog({iframeUrl:e.options.UEDITOR_HOME_URL+"dialogs/samjan/emrtable.html",editor:e,name:"emrtable",title:"\u8bbe\u8ba1\u8868\u683c",cssRules:"width: 900px; height: 500px",buttons:[{className:"edui-okbutton",label:"\u786e\u5b9a",onclick:function(){a.close(!0)}},{className:"edui-cancelbutton",label:"\u53d6\u6d88",onclick:function(){a.close(!1)}}]});e.ready((function(){t.utils.cssRule("kfformula","img.kfformula{vertical-align: middle;}",e.document)}));var o=e.options.UEDITOR_HOME_URL+"icons/table.png",r=document.createElement("a");r.href=o,r.href=r.href,o=r.href;var l=new t.ui.Button({name:"emrtable-1",title:"\u8bbe\u8ba1\u8868\u683c",className:"edui-for-emrtable-1",cssRules:"background-image: url(".concat(o,") !important"),onclick:function(){a.render(),a.open()}});return e.addListener("selectionchange",(function(){var t=e.queryCommandState("input");-1===t?(l.setDisabled(!0),l.setChecked(!1)):(l.setDisabled(!1),l.setChecked(t))})),l}):console.error("\u63a7\u4ef6\u52a0\u8f7d\u5f02\u5e38\uff0c\u8bf7\u786e\u5b9a\u662f\u5426\u6b63\u786e\u52a0\u8f7dUEditor\u63d2\u4ef6")}(),function(){var e=window.baidu||{},t=e.editor=window.UE;t?t.plugins.emrpagebreak=function(){this.commands.emrpagebreak={execCommand:function(){console.log("\u81ea\u5b9a\u4e49\u5206\u9875")}},e.editor.ui.emrpagebreak=function(e,n,i){e.ready((function(){t.utils.cssRule("kfformula","img.kfformula{vertical-align: middle;}",e.document)}));var a=e.options.UEDITOR_HOME_URL+"icons/input.png",o=document.createElement("a");o.href=a,o.href=o.href,a=o.href;var r=new t.ui.Button({name:"input-1",title:"\u63d2\u5165\u5206\u9875",className:"edui-for-input-1",cssRules:"background-image: url(".concat(a,") !important"),onclick:function(){console.log("\u63d2\u5165\u5206\u9875");var e=document.getElementsByTagName("iframe")[0].contentWindow,t=document.getElementsByTagName("iframe")[0].contentWindow.document.getElementsByClassName("pagebreak");console.log(t.length);var n=document.getElementsByTagName("iframe")[0].contentWindow.document.getElementsByTagName("body")[0],i=document.getElementsByTagName("iframe")[0].contentWindow.document.getElementsByClassName("pageno");if(i)for(var a=i.length+1;a<i.length;a--)n.removeChild(i[a]),a--;for(var o=0;o<t.length;o++){var r=e.document.createElement("p");r.className="pageno",r.innerHTML="\u7b2c"+(o+1)+"\u9875",n.insertBefore(r,t[o].nextSibling)}t.length;n.appendChild(r)}});return e.addListener("selectionchange",(function(){var t=e.queryCommandState("input");-1===t?(r.setDisabled(!0),r.setChecked(!1)):(r.setDisabled(!1),r.setChecked(t))})),r}}:console.error("\u63a7\u4ef6\u52a0\u8f7d\u5f02\u5e38\uff0c\u8bf7\u786e\u5b9a\u662f\u5426\u6b63\u786e\u52a0\u8f7dUEditor\u63d2\u4ef6")}(),function(){var e=window.baidu||{},t=e.editor=window.UE;t?(t.plugins.tablecellrelavance=function(){this.commands.tablecellrelavance={execCommand:function(){console.log(t.selection.getStart())}}},e.editor.ui.tablecellrelavance=function(e,n,i){e.ready((function(){t.utils.cssRule("kfformula","img.kfformula{vertical-align: middle;}",e.document)}));var a=e.options.UEDITOR_HOME_URL+"icons/table_cell_relavance.png",o=document.createElement("a");o.href=a,o.href=o.href,a=o.href;var r=new t.ui.Button({name:"table-cell-relavance",title:"\u8bbe\u7f6e\u8868\u683c\u5355\u5143\u683c\u5355\u9009\u7ec4",className:"edui-for-table-cell-relavance",cssRules:"background-image: url(".concat(a,") !important"),onclick:function(){var t=e.selection.getRange().document.getElementsByClassName("selectTdClass");console.log(t,"--doc--");for(var n=0;n<t.length;n++){var i=t[n].className;t[n].className=i+" t1-relavance-cell relavance",console.log(t[n].cellIndex),t[n].innerText="event_single_groupName_cellName_grade"}}});return e.addListener("selectionchange",(function(){var t=e.queryCommandState("input");-1===t?(r.setDisabled(!0),r.setChecked(!1)):(r.setDisabled(!1),r.setChecked(t))})),r}):console.error("\u63a7\u4ef6\u52a0\u8f7d\u5f02\u5e38\uff0c\u8bf7\u786e\u5b9a\u662f\u5426\u6b63\u786e\u52a0\u8f7dUEditor\u63d2\u4ef6")}(),function(){var e=window.baidu||{},t=e.editor=window.UE;t?(t.plugins.tablecellgroupmutil=function(){this.commands.tablecellgroupmutil={execCommand:function(){console.log(t.selection.getStart())}}},e.editor.ui.tablecellgroupmutil=function(e,n,i){e.ready((function(){t.utils.cssRule("kfformula","img.kfformula{vertical-align: middle;}",e.document)}));var a=e.options.UEDITOR_HOME_URL+"icons/table_cell_group_mutil.png",o=document.createElement("a");o.href=a,o.href=o.href,a=o.href;var r=new t.ui.Button({name:"table-cell-group-mutil",title:"\u8bbe\u7f6e\u8868\u683c\u5355\u5143\u683c\u591a\u9009\u7ec4",className:"edui-for-table-cell-group-mutil",cssRules:"background-image: url(".concat(a,") !important"),onclick:function(){for(var t=e.selection.getRange().document.getElementsByClassName("selectTdClass"),n=0;n<t.length;n++){var i=t[n].className;t[n].className=i+" t1-relavance-cell relavance",t[n].innerText="event_mutil_groupName_grade"}}});return e.addListener("selectionchange",(function(){var t=e.queryCommandState("input");-1===t?(r.setDisabled(!0),r.setChecked(!1)):(r.setDisabled(!1),r.setChecked(t))})),r}):console.error("\u63a7\u4ef6\u52a0\u8f7d\u5f02\u5e38\uff0c\u8bf7\u786e\u5b9a\u662f\u5426\u6b63\u786e\u52a0\u8f7dUEditor\u63d2\u4ef6")}(),function(){var e=window.baidu||{},t=e.editor=window.UE;t?(t.plugins.tablecellwidth=function(){this.commands.tablecellwidth={execCommand:function(){console.log(t.selection.getStart())}}},e.editor.ui.tablecellwidth=function(e,n,i){var a=new t.ui.Dialog({iframeUrl:e.options.UEDITOR_HOME_URL+"dialogs/samjan/table_cell_width.html",editor:e,name:"tablecellwidth",title:"\u8bbe\u7f6e\u8868\u683c\u5355\u5143\u683c\u5bbd\u5ea6",cssRules:"width: 300px; height: 110px",buttons:[{className:"edui-okbutton",label:"\u786e\u5b9a",onclick:function(){a.close(!0)}},{className:"edui-cancelbutton",label:"\u53d6\u6d88",onclick:function(){a.close(!1)}}]});e.ready((function(){t.utils.cssRule("kfformula","img.kfformula{vertical-align: middle;}",e.document)}));var o=e.options.UEDITOR_HOME_URL+"icons/table_cell_width.png",r=document.createElement("a");r.href=o,r.href=r.href,o=r.href;var l=new t.ui.Button({name:"table-cell-width",title:"\u8bbe\u7f6e\u8868\u683c\u5355\u5143\u683c\u5bbd\u5ea6",className:"edui-for-table-cell-width",cssRules:"background-image: url(".concat(o,") !important"),onclick:function(){a.render(),a.open()}});return e.addListener("selectionchange",(function(){var t=e.queryCommandState("input");-1===t?(l.setDisabled(!0),l.setChecked(!1)):(l.setDisabled(!1),l.setChecked(t))})),l}):console.error("\u63a7\u4ef6\u52a0\u8f7d\u5f02\u5e38\uff0c\u8bf7\u786e\u5b9a\u662f\u5426\u6b63\u786e\u52a0\u8f7dUEditor\u63d2\u4ef6")}(),function(){var e="tableprintcellwidth",t=window.baidu||{},n=t.editor=window.UE;n?(n.plugins[e]=function(){this.commands[e]={execCommand:function(){console.log(n.selection.getStart(),211)}}},t.editor.ui[e]=function(t,i,a){var o=new n.ui.Dialog({iframeUrl:t.options.UEDITOR_HOME_URL+"dialogs/samjan/table_print_cellwidth.html",editor:t,name:e,title:"\u8868\u683c\u5217\u6253\u5370\u5bbd\u5ea6\u8bbe\u7f6e",cssRules:"width: 460px; height: 260px",buttons:[{className:"edui-okbutton",label:"\u786e\u5b9a",onclick:function(){o.close(!0)}},{className:"edui-cancelbutton",label:"\u53d6\u6d88",onclick:function(){o.close(!1)}}]});t.ready((function(){n.utils.cssRule("kfformula","img.kfformula{vertical-align: middle;}",t.document)}));var r=t.options.UEDITOR_HOME_URL+"icons/table_cell_width.png",l=document.createElement("a");l.href=r,l.href=l.href,r=l.href;var s=new n.ui.Button({name:"table-cell-width",title:"\u8bbe\u7f6e\u8868\u683c\u6253\u5370\u5217\u5bbd\u5ea6",className:"edui-for-table-cell-width",cssRules:"background-image: url(".concat(r,") !important"),onclick:function(){var e=t.selection.getStart();e&&"TD"===e.tagName||"TD"===e.parentNode.tagName?(o.render(),o.open()):alert("\u8282\u70b9\u4e0d\u662f\u5355\u5143\u683c")}});return t.addListener("selectionchange",(function(){var e=t.queryCommandState("input");-1===e?(s.setDisabled(!0),s.setChecked(!1)):(s.setDisabled(!1),s.setChecked(e))})),s}):console.error("\u63a7\u4ef6\u52a0\u8f7d\u5f02\u5e38\uff0c\u8bf7\u786e\u5b9a\u662f\u5426\u6b63\u786e\u52a0\u8f7dUEditor\u63d2\u4ef6")}(),function(){var e=window.baidu||{},t=e.editor=window.UE;t?(t.plugins.tablecelleditable=function(){this.commands.tablecelleditable={execCommand:function(){console.log(t.selection.getStart())}}},e.editor.ui.tablecelleditable=function(e,n,i){e.ready((function(){t.utils.cssRule("kfformula","img.kfformula{vertical-align: middle;}",e.document)}));var a=e.options.UEDITOR_HOME_URL+"icons/table_cell_editable.png",o=document.createElement("a");o.href=a,o.href=o.href,a=o.href;var r=new t.ui.Button({name:"table-cell-editable",title:"\u8bbe\u7f6e\u8868\u683c\u5355\u5143\u683c\u80fd\u5426\u7f16\u8f91",className:"edui-for-table-cell-editable",cssRules:"background-image: url(".concat(a,") !important"),onclick:function(){var t=e.selection.getStartElementPath()[0];"TD"===t.tagName&&(t.getAttribute("setcontenteditable")?t.setAttribute("setcontenteditable",!1):t.setAttribute("setcontenteditable",!0))}});return e.addListener("selectionchange",(function(){var t=e.queryCommandState("input");-1===t?(r.setDisabled(!0),r.setChecked(!1)):(r.setDisabled(!1),r.setChecked(t))})),r}):console.error("\u63a7\u4ef6\u52a0\u8f7d\u5f02\u5e38\uff0c\u8bf7\u786e\u5b9a\u662f\u5426\u6b63\u786e\u52a0\u8f7dUEditor\u63d2\u4ef6")}(),function(){var e=window.baidu||{},t=e.editor=window.UE;t?(t.plugins.tablefileds=function(){this.commands.tablefileds={execCommand:function(){console.log(t.selection.getStart())}}},e.editor.ui.tablefileds=function(e,n,i){e.ready((function(){t.utils.cssRule("kfformula","img.kfformula{vertical-align: middle;}",e.document)}));var a=e.options.UEDITOR_HOME_URL+"icons/table_fields.png",o=document.createElement("a");o.href=a,o.href=o.href,a=o.href;var r=new t.ui.Button({name:"table-fileds",title:"\u8bbe\u7f6e\u8868\u683c\u8868\u5934\u884c",className:"edui-for-table-fileds",cssRules:"background-image: url(".concat(a,") !important"),onclick:function(){var n=e.selection.getRange().document.getElementsByClassName("selectTdClass"),i=(t.dom.domUtils.findParentByTagName(n[0]),n[0].parentNode),a=i.className;n[n.length-1].innerText.indexOf("_sign")>-1&&(i.id="fileds-tr"),i.className=a+" fileds-tr",i.style.backgroundColor="rgb(238, 241, 246)"}});return e.addListener("selectionchange",(function(){var t=e.queryCommandState("input");-1===t?(r.setDisabled(!0),r.setChecked(!1)):(r.setDisabled(!1),r.setChecked(t))})),r}):console.error("\u63a7\u4ef6\u52a0\u8f7d\u5f02\u5e38\uff0c\u8bf7\u786e\u5b9a\u662f\u5426\u6b63\u786e\u52a0\u8f7dUEditor\u63d2\u4ef6")}(),function(){var e=window.baidu||{},t=e.editor=window.UE;t?(t.plugins.tablecellchooseshow=function(){this.commands.tablecellchooseshow={execCommand:function(){console.log(t.selection.getStart())}}},e.editor.ui.tablecellchooseshow=function(e,n,i){e.ready((function(){t.utils.cssRule("kfformula","img.kfformula{vertical-align: middle;}",e.document)}));var a=e.options.UEDITOR_HOME_URL+"icons/table_cell_gruop_show.png",o=document.createElement("a");o.href=a,o.href=o.href,a=o.href;var r=new t.ui.Button({name:"table-cell-choose-show",title:"\u8bbe\u7f6e\u8868\u683c\u663e\u793a\u6570\u5b57\u6216\u2713",className:"edui-for-table-cell-choose-show",cssRules:"background-image: url(".concat(a,") !important"),onclick:function(){for(var t=e.selection.getRange().document.getElementsByClassName("selectTdClass"),n=0;n<t.length;n++){var i=t[n].getAttribute("showway");i&&"number"!==i?t[n].setAttribute("showway","number"):t[n].setAttribute("showway","\u2713")}}});return e.addListener("selectionchange",(function(){var t=e.queryCommandState("input");-1===t?(r.setDisabled(!0),r.setChecked(!1)):(r.setDisabled(!1),r.setChecked(t))})),r}):console.error("\u63a7\u4ef6\u52a0\u8f7d\u5f02\u5e38\uff0c\u8bf7\u786e\u5b9a\u662f\u5426\u6b63\u786e\u52a0\u8f7dUEditor\u63d2\u4ef6")}(),function(){var e=window.baidu||{},t=e.editor=window.UE;t?(t.plugins.remarksetting=function(){this.commands.remarksetting={execCommand:function(){console.log(t.selection.getStart(),211)}}},e.editor.ui.remarksetting=function(e,n,i){var a=new t.ui.Dialog({iframeUrl:e.options.UEDITOR_HOME_URL+"dialogs/samjan/table_print_cellwidth.html",editor:e,name:"remarksetting",title:"\u8bbe\u4e3a\u8868\u5355\u5907\u6ce8",cssRules:"width: 460px; height: 260px",buttons:[{className:"edui-okbutton",label:"\u786e\u5b9a",onclick:function(){a.close(!0)}},{className:"edui-cancelbutton",label:"\u53d6\u6d88",onclick:function(){a.close(!1)}}]});e.ready((function(){t.utils.cssRule("kfformula","img.kfformula{vertical-align: middle;}",e.document)}));var o=e.options.UEDITOR_HOME_URL+"icons/icon_remark.png",r=document.createElement("a");r.href=o,r.href=r.href,o=r.href;var l=new t.ui.Button({name:"remarksetting",title:"\u8bbe\u4e3a\u8868\u5355\u5907\u6ce8",className:"edui-for-remarksetting",cssRules:"background-image: url(".concat(o,") !important"),onclick:function(){var t=e.selection.getStart();"P"===t.parentNode.tagName&&t.parentNode.className.indexOf("form-tips")>-1?(t.parentNode.className="",alert("\u53d6\u6d88\u6210\u529f")):(t.parentNode.className="form-tips",alert("\u5df2\u8bbe\u4e3a\u8868\u5355\u5907\u6ce8"))}});return e.addListener("selectionchange",(function(){var t=e.queryCommandState("input");-1===t?(l.setDisabled(!0),l.setChecked(!1)):(l.setDisabled(!1),l.setChecked(t))})),l}):console.error("\u63a7\u4ef6\u52a0\u8f7d\u5f02\u5e38\uff0c\u8bf7\u786e\u5b9a\u662f\u5426\u6b63\u786e\u52a0\u8f7dUEditor\u63d2\u4ef6")}(),function(){var e="tablesetselector",t=window.baidu||{},n=t.editor=window.UE;n?(n.plugins[e]=function(){this.commands[e]={execCommand:function(){console.log(n.selection.getStart(),211)}}},t.editor.ui[e]=function(t,i,a){var o=new n.ui.Dialog({iframeUrl:t.options.UEDITOR_HOME_URL+"dialogs/samjan/table_setting_selector.html",editor:t,name:e,title:"\u8bbe\u7f6e\u8868\u683c\u9009\u62e9\u5668",cssRules:"width: 460px; height: 200px",buttons:[{className:"edui-okbutton",label:"\u786e\u5b9a",onclick:function(){o.close(!0)}},{className:"edui-cancelbutton",label:"\u53d6\u6d88",onclick:function(){o.close(!1)}}]});t.ready((function(){n.utils.cssRule("kfformula","img.kfformula{vertical-align: middle;}",t.document)}));var r=t.options.UEDITOR_HOME_URL+"icons/set_table_selector.png",l=document.createElement("a");l.href=r,l.href=l.href,r=l.href;var s=new n.ui.Button({name:"table-setting-selector",title:"\u8bbe\u7f6e\u8868\u683c\u9009\u62e9\u5668",className:"edui-for-table-setting-selector",cssRules:"background-image: url(".concat(r,") !important"),onclick:function(){var e=t.selection.getStart();e&&"TD"===e.tagName||"TD"===e.parentNode.tagName?(o.render(),o.open()):alert("\u8282\u70b9\u4e0d\u662f\u5355\u5143\u683c")}});return t.addListener("selectionchange",(function(){var e=t.queryCommandState("input");-1===e?(s.setDisabled(!0),s.setChecked(!1)):(s.setDisabled(!1),s.setChecked(e))})),s}):console.error("\u63a7\u4ef6\u52a0\u8f7d\u5f02\u5e38\uff0c\u8bf7\u786e\u5b9a\u662f\u5426\u6b63\u786e\u52a0\u8f7dUEditor\u63d2\u4ef6")}(),function(){var e=window.baidu||{},t=e.editor=window.UE;t?(t.plugins.settingsplitrow=function(){this.commands.settingsplitrow={execCommand:function(){}}},e.editor.ui.settingsplitrow=function(e){var n=new t.ui.Dialog({iframeUrl:e.options.UEDITOR_HOME_URL+"dialogs/samjan/table_split_row.html",editor:e,name:"settingsplitrow",title:"\u8868\u683c\u5355\u5143\u683c\u5185\u5bb9\u5206\u5272\u591a\u884c\u5c5e\u6027\u8bbe\u7f6e",cssRules:"width: 460px; height: 200px;",buttons:[{className:"edui-okbutton",label:"\u786e\u5b9a",onclick:function(){n.close(!0)}},{className:"edui-cancelbutton",label:"\u53d6\u6d88",onclick:function(){n.close(!1)}}]});e.ready((function(){t.utils.cssRule("kfformula","img.kfformula{vertical-align: middle;}",e.document)}));var i=e.options.UEDITOR_HOME_URL+"icons/table_cell_splitrows.png",a=document.createElement("a");a.href=i,a.href=a.href,i=a.href;var o=new t.ui.Button({name:"settingsplitrow",title:"\u8868\u683c\u5355\u5143\u683c\u5185\u5bb9\u5206\u5272\u591a\u884c\u5c5e\u6027\u8bbe\u7f6e",className:"edui-for-settingsplitrow",cssRules:"background-image: url(".concat(i,") !important"),onclick:function(){var t=e.selection.getStart();t&&"TD"===t.tagName||"TD"===t.parentNode.tagName?(n.render(),n.open()):alert("\u8282\u70b9\u4e0d\u662f\u5355\u5143\u683c")}});return e.addListener("selectionchange",(function(){var t=e.queryCommandState("settingsplitrow");-1===t?(o.setDisabled(!0),o.setChecked(!1)):(o.setDisabled(!1),o.setChecked(t))})),o}):console.error("\u63a7\u4ef6\u52a0\u8f7d\u5f02\u5e38\uff0c\u8bf7\u786e\u5b9a\u662f\u5426\u6b63\u786e\u52a0\u8f7dUEditor\u63d2\u4ef6")}(),function(){var e=window.baidu||{},t=e.editor=window.UE;t?(t.plugins.emrbutton=function(){var n=this;n.commands.emrbutton={execCommand:function(){var e=new t.ui.Dialog({iframeUrl:this.options.UEDITOR_HOME_URL+"dialogs/samjan/button.html",name:"emrbutton",editor:this,title:"\u6309\u94ae\u63a7\u4ef6",cssRules:"width: 600px; height: 300px",buttons:[{className:"edui-okbutton",label:"\u786e\u5b9a",onclick:function(){e.close(!0)}},{className:"edui-cancelbutton",label:"\u53d6\u6d88",onclick:function(){e.close(!1)}}]});e.render(),e.open()}};var i=new e.editor.ui.Popup({editor:this,content:"",className:"edui-bubble",_edittext:function(){e.editor.plugins.emrbutton.editdom=i.anchorEl,n.execCommand("emrbutton"),this.hide()},_delete:function(){window.confirm("\u786e\u8ba4\u5220\u9664\u8be5\u63a7\u4ef6\u5417?")&&e.editor.dom.domUtils.remove(this.anchorEl,!1),this.hide()}});i.render(),n.addListener("mouseover",(function(e,t){var a=n.body.getAttribute("pattern");if(!a||"design"===a){var o=b((t=t||window.event).target||t.srcElement,"emrplugin");if(o){if("emrbutton"===o.getAttribute("emrplugin")){var r=i.formatHtml("<nobr>".concat(o.getAttribute("title"),'  \u6309\u94ae: <span onclick=$$._edittext() class="edui-clickable">\u7f16\u8f91</span> <span onclick=$$._delete class="edui-clickable">\u5220\u9664</span></nobr>'));r?(i.getDom("content").innerHTML=r,i.anchorEl=o,i.showAnchor(i.anchorEl)):i.hide()}}else i.hide()}}))},e.editor.ui.emrbutton=function(e,n,i){var a=new t.ui.Dialog({iframeUrl:e.options.UEDITOR_HOME_URL+"dialogs/samjan/button.html",editor:e,name:"button",title:"\u63d2\u5165\u6309\u94ae",cssRules:"width: 600px; height: 300px;",buttons:[{className:"edui-okbutton",label:"\u786e\u5b9a",onclick:function(){a.close(!0)}},{className:"edui-cancelbutton",label:"\u53d6\u6d88",onclick:function(){a.close(!1)}}]});e.ready((function(){t.utils.cssRule("kfformula","img.kfforumla{vertical-align: middle;}",e.document)}));var o=e.options.UEDITOR_HOME_URL+"icons/button.png",r=document.createElement("a");r.href=o,r.href=r.href,o=r.href;var l=new t.ui.Button({name:"emrbutton-1",title:"\u63d2\u5165\u6309\u94ae",className:"edui-for-emrbutton-1",cssRules:"background-image: url(".concat(o,") !important"),onclick:function(){a.render(),a.open()}});return e.addListener("selectionchange",(function(){var t=e.queryCommandState("input");-1===t?(l.setDisabled(!0),l.setChecked(!1)):(l.setDisabled(!1),l.setChecked(t))})),l}):console.error("\u63a7\u4ef6\u52a0\u8f7d\u5f02\u5e38\uff0c\u8bf7\u786e\u5b9a\u662f\u5426\u6b63\u786e\u52a0\u8f7dUEditor\u63d2\u4ef6")}(),console.info(t),r.a.render(a.a.createElement(P,{options:t,onSave:t.onSave,onReady:t.onReady,ref:function(e){n=new F(e)}}),document.getElementById(e)),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})),n}||{}}},[[10,1,2]]]);